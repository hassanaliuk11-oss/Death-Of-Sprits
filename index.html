<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hassan Jatoi | Creative Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400;1,6..96,700&family=Cinzel:wght@400;700&family=Lora:ital,wght@0,400;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #c5a059; --dark-bg: #0a0a0a; }
        body { background-color: var(--dark-bg); color: #e5e5e5; font-family: 'Inter', sans-serif; }
        .font-serif-lux { font-family: 'Bodoni Moda', serif; }
        .font-cinzel { font-family: 'Cinzel', serif; }
        .font-lora { font-family: 'Lora', serif; }
        .glass-nav { background: rgba(10, 10, 10, 0.8); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .poem-card { background: #111; border: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.3s ease; }
        .poem-card:hover { border-color: var(--gold); transform: translateY(-5px); }
        input, textarea { background: transparent !important; border: none !important; outline: none !important; width: 100%; }
        .btn-gold { background: var(--gold); color: black; font-weight: 600; padding: 0.5rem 1.5rem; border-radius: 4px; transition: all 0.3s ease; }
        #json-input { font-family: 'Courier New', monospace; background: #000 !important; color: #0f0 !important; border: 1px solid #333 !important; padding: 20px; }
        @media print { .no-print { display: none !important; } body { background: white !important; color: black !important; } }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <nav class="glass-nav sticky top-0 z-50 px-6 py-4 flex items-center justify-between no-print">
        <div class="flex items-center gap-8">
            <div class="flex flex-col cursor-pointer" onclick="switchTab('gallery')">
                <span class="font-cinzel text-lg tracking-widest text-[#c5a059]">HASSAN JATOI</span>
                <span class="text-[8px] tracking-[0.4em] opacity-40 uppercase">Creative Studio</span>
            </div>
            <div class="hidden md:flex gap-6 text-[10px] font-bold uppercase tracking-widest opacity-60">
                <button onclick="switchTab('editor')" id="nav-editor" class="text-[#c5a059]">Editor</button>
                <button onclick="switchTab('gallery')" id="nav-gallery">Library</button>
                <button onclick="switchTab('coding')" id="nav-coding">Coding</button>
            </div>
        </div>
        <button onclick="createNewPoem()" class="btn-gold text-[10px] uppercase">New Verse</button>
    </nav>

    <main class="flex-1 flex flex-col p-6 lg:p-12 overflow-y-auto">
        
        <div id="view-editor" class="flex-1 flex flex-col">
            <div class="max-w-3xl mx-auto w-full flex flex-col gap-10">
                <div class="relative w-full h-64 md:h-96 rounded-2xl overflow-hidden no-print">
                    <img id="active-img" src="" class="w-full h-full object-cover brightness-50">
                    <div class="absolute bottom-6 left-6 flex gap-4">
                        <select onchange="updateFont(this.value)" class="bg-black/40 backdrop-blur-md border border-white/10 rounded px-3 py-1 text-[10px]">
                            <option value="font-serif-lux">Bodoni Luxe</option>
                            <option value="font-lora">Classic Lora</option>
                            <option value="font-cinzel">Cinzel Decorative</option>
                        </select>
                    </div>
                </div>

                <div class="space-y-6">
                    <input type="text" id="active-title" oninput="saveData()" placeholder="Title..." class="text-4xl md:text-6xl font-cinzel text-white/90">
                    <div class="w-20 h-1 bg-[#c5a059] opacity-60"></div>
                    <textarea id="active-content" oninput="saveData()" placeholder="Write here..." class="text-xl md:text-2xl leading-relaxed min-h-[400px] text-white/70"></textarea>
                </div>
            </div>
        </div>

        <div id="view-gallery" class="hidden">
            <div id="gallery-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
        </div>

        <div id="view-coding" class="hidden max-w-4xl mx-auto w-full">
            <h2 class="font-cinzel text-[#c5a059] mb-4 uppercase">Direct Poetry Injection</h2>
            <textarea id="json-input" class="w-full h-96 rounded-lg mb-4"></textarea>
            <button onclick="injectCode()" class="btn-gold">Inject Data</button>
        </div>
    </main>

    <script>
        // ==========================================
        // 1. COPY PASTE YOUR POETRY HERE 
        // ==========================================
        const myPoetryDatabase = [
            {
                "title": "Silent Night",
                "content": "The stars are whispering to the moon,\nMorning comes far too soon.",
                "image": "https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=800",
                "font": "font-serif-lux"
            },
            {
                "title": "Eternal Flame",
                "content": "Love is not a seasonal flower,\nIt is a soul's quiet power.",
                "image": "https://images.unsplash.com/photo-1499198116522-4a6235013d2d?w=800",
                "font": "font-lora"
            }
        ];

        // --- Core Logic ---
        let poems = JSON.parse(localStorage.getItem('hassan_v2_data'));
        if (!poems || poems.length === 0) poems = myPoetryDatabase.map((p, i) => ({...p, id: i}));

        let activeId = poems[0].id;

        function init() { renderPoem(activeId); }

        function renderPoem(id) {
            const poem = poems.find(p => p.id === id);
            if (!poem) return;
            activeId = id;
            document.getElementById('active-title').value = poem.title;
            document.getElementById('active-content').value = poem.content;
            document.getElementById('active-img').src = poem.image;
            document.getElementById('active-content').className = `text-xl md:text-2xl leading-relaxed min-h-[400px] text-white/70 ${poem.font}`;
        }

        function saveData() {
            const idx = poems.findIndex(p => p.id === activeId);
            poems[idx].title = document.getElementById('active-title').value;
            poems[idx].content = document.getElementById('active-content').value;
            localStorage.setItem('hassan_v2_data', JSON.stringify(poems));
        }

        function switchTab(tab) {
            ['editor', 'gallery', 'coding'].forEach(v => {
                document.getElementById(`view-${v}`).classList.add('hidden');
                document.getElementById(`nav-${v}`).classList.remove('text-[#c5a059]');
            });
            document.getElementById(`view-${tab}`).classList.remove('hidden');
            document.getElementById(`nav-${tab}`).classList.add('text-[#c5a059]');
            if (tab === 'gallery') renderGallery();
            if (tab === 'coding') document.getElementById('json-input').value = JSON.stringify(poems, null, 4);
        }

        function renderGallery() {
            const grid = document.getElementById('gallery-grid');
            grid.innerHTML = '';
            poems.forEach(p => {
                const card = document.createElement('div');
                card.className = "poem-card rounded-xl overflow-hidden cursor-pointer p-4";
                card.onclick = () => { renderPoem(p.id); switchTab('editor'); };
                card.innerHTML = `<h3 class="font-cinzel text-gold">${p.title || 'Untitled'}</h3><p class="text-xs opacity-50 truncate">${p.content}</p>`;
                grid.appendChild(card);
            });
        }

        function injectCode() {
            try {
                const data = JSON.parse(document.getElementById('json-input').value);
                poems = data.map((p, i) => ({...p, id: p.id || Date.now() + i}));
                localStorage.setItem('hassan_v2_data', JSON.stringify(poems));
                renderPoem(poems[0].id);
                switchTab('gallery');
            } catch (e) { alert("Invalid Code Format!"); }
        }

        function createNewPoem() {
            const newP = { id: Date.now(), title: "New Title", content: "", image: "https://picsum.photos/800/600", font: "font-serif-lux" };
            poems.unshift(newP);
            saveData();
            renderPoem(newP.id);
            switchTab('editor');
        }

        window.onload = init;
    </script>
</body>
</html>
